1. Module_Example :
   - This is simple start of node js, where it shows how to write own module and use it in other file.
   - To run
       - npm start (added "start": "node hello" in script section of package.json)

2. Sample_App 
    - Here we written some sample server app, which show how to route with http -> also have to use extra url module for getting query info 
    - Same things get achieved by express with better code readability no need to use url module. 
    - Must visit guide page for more info https://expressjs.com/en/guide/routing.html
    - Different methods to end request response cycle - https://expressjs.com/en/guide/routing.html#:~:text=)%0A%7D)-,Response%20methods,-The%20methods%20on 

3. Rest_API (Create The Rest Api and understand Middlware)
    - understand use of the middlware ex. Here created the requestTime middlware which get called for all route who set the requiestTime property in req ogject which used in next function.
    - Used https://www.mockaroo.com/ To generate json data.
    - List of APIs 
        - /api/users/     GET Method  (Get all users data)
        - /api/users/     POST Method (Create user)
        - /api/users/:id   GET Method  (Get the user with id)
        - /api/users/:id   PATCH Method  (Update the user)
        - /api/users/:id   DELETE Method (Delete the user)
    - Used Postman to test the API 

4. Rest_API_V2_Segregated_Code (Segregate the code)
    - segregate the code of Rest_API according to MVC (model, view, controller).
    - Controller files having function what to do when any route hit. Separete handler created in controllers/user.js for all /api/user routes.
    - All custom middlware moved to saperate file middlware/index.js 

5. Rest_API_MongoDB_MVC (Rest API with mongooDB) 
    - All data transfer happening in local mongoodb server instead of simple json file as we done in all previous modules.
    - separate connection.js and model/user.js created.
    - Same APIs supported as listed above in Rest_API section ex. http://localhost:8000/api/users/   GET or POST method.
    


statefull and stateless authetication 

First thing that thease two authentication needed because we want that user don't need to put useraname and password again and again every time it visit the website. To avoid that only we want to go for any solution either statefull and stateless.

statefull -> session based authentication  -> Here we tore some info (mapping of session key to user object) in server side, so if we restat it then we loose it.

stateless means -> token based authentication -> Here we not storing any info at serever side. We generate token first time using some secret key and send this to client. When serve get it it see whethe this token is generated by this key if yes then it gives the user object (whatever info we tokenized first).


Now the question is how we store the token. 
    - There are two ways to send token back to server 1. cookie  2. Send token in request header
    - But the cookie is only work in case webbrowser what for mobile application then we have to go for reqeste header.
    
    - First talk about cookie -> When browser get response and see the cookie it will store it. each cookies have some info like domain name, expiry data etc. So when we again visit any same domain page like cookie was send by  gfg.com then when I visit any page of gfg.com like gfg.com/home then it will send those cookies only not others which sent by other servers.  
    - So we see all related cookie will sent with each request to that server (domain). 

    - Now talk about headers -> when we get response from login page then we get token as response json, It's client code responsibility to store it somewhere like In webbrowser we can store it in local storage, In mobile we have to store in file system. 
    - When client again send any request to that domain at that time it needs send token info as a header. There is alredy defined and world wide used header authorization which used to store the toke info. And server read the autoraization header and verify that token. 
    



6. Short URLs
    - API Lists 
    
        - /signup GET  => Check in static_route.c
            - render the signup page  => can be found in static_router.js 
            - Set form action as "/user/signup" 
        - /login GET  => Check in static_route.c
            - render the login page => can be found in static_router.js 
            - Set form action as /user/login

        - /user/signup POST 
            - Create the user in database  
            - ####### It should create the cookie as well ########## ? 
            - redirect to  "/" => GET   
        - /user/login POST
            - Get the email and passowrd from body and search it in database 
            - If user found then render login view again with error. That means user remain on same URL at /user/login so when we do try to login again it will create "/user/login" => POST method.
            - If user found then
                -Add the entry in map as session_id to user object
                -Crete the Cookie as uid name as content of session ID.
                -redirect to "/" => GET  


        - / GET  => first Check in index.js 
            - First run checkAuth middlware
                - It will get session id from cookie and get user object from mapping, set it as req.user and then call next()
            - After checkAuth middlware pass it to static_router
                - It check if req.user not exist then we do redirect to /login page 
                - If user found then Render "home" view take it's ID and list all urls that he has created. 

        - /url POST => create the short URL 
            - Check the user login or not using calling middlware
            - Then create new entry for short url and also set one reference id to track who has creted this url.
            
        - /url/anlytics/:shortID   GET => get the details that how many times it visited
    




Guide Pages :
    - Event loop - https://nodejs.org/en/learn/asynchronous-work/event-loop-timers-and-nexttick
    - Express APIs guide : https://expressjs.com/en/4x/api.html#express -> what happen when do require('express') https://stackoverflow.com/questions/42631107/when-express-is-required-is-it-a-function-or-an-object
    - Express guide https://expressjs.com/en/guide/routing.html - looks for other topics as well.
